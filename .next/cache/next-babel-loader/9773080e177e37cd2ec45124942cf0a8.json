{"ast":null,"code":"import _extends from \"@babel/runtime-corejs2/helpers/esm/extends\";\nvar __jsx = React.createElement;\nimport React from \"react\"; // used for making the prop types of this component\n\n// core components\nimport Button from \"components/CustomButtons/Button.js\";\nimport defaultImage from \"assets/img/image_placeholder.jpg\";\nimport defaultAvatar from \"assets/img/placeholder.jpg\";\nexport default function ImageUpload(props) {\n  const [file, setFile] = React.useState(null);\n  const [imagePreviewUrl, setImagePreviewUrl] = React.useState(props.avatar ? defaultAvatar : defaultImage);\n  let fileInput = React.createRef();\n\n  const handleImageChange = e => {\n    e.preventDefault();\n    let reader = new FileReader();\n    let file = e.target.files[0];\n\n    reader.onloadend = () => {\n      setFile(file);\n      setImagePreviewUrl(reader.result);\n    };\n\n    reader.readAsDataURL(file);\n  }; // eslint-disable-next-line\n\n\n  const handleSubmit = e => {\n    e.preventDefault(); // file is the file/image uploaded\n    // in this function you can save the image (file) on form submit\n    // you have to call it yourself\n  };\n\n  const handleClick = () => {\n    fileInput.current.click();\n  };\n\n  const handleRemove = () => {\n    setFile(null);\n    setImagePreviewUrl(props.avatar ? defaultAvatar : defaultImage);\n    fileInput.current.value = null;\n  };\n\n  let {\n    avatar,\n    addButtonProps,\n    changeButtonProps,\n    removeButtonProps\n  } = props;\n  return __jsx(\"div\", {\n    className: \"fileinput text-center\"\n  }, __jsx(\"input\", {\n    type: \"file\",\n    onChange: handleImageChange,\n    ref: fileInput\n  }), __jsx(\"div\", {\n    className: \"thumbnail\" + (avatar ? \" img-circle\" : \"\")\n  }, __jsx(\"img\", {\n    src: imagePreviewUrl,\n    alt: \"...\"\n  })), __jsx(\"div\", null, file === null ? __jsx(Button, _extends({}, addButtonProps, {\n    onClick: () => handleClick()\n  }), avatar ? \"Add Photo\" : \"Select image\") : __jsx(\"span\", null, __jsx(Button, _extends({}, changeButtonProps, {\n    onClick: () => handleClick()\n  }), \"Change\"), avatar ? __jsx(\"br\", null) : null, __jsx(Button, _extends({}, removeButtonProps, {\n    onClick: () => handleRemove()\n  }), __jsx(\"i\", {\n    className: \"fas fa-times\"\n  }), \" Remove\"))));\n}","map":null,"metadata":{},"sourceType":"module"}