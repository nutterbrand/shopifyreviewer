{"ast":null,"code":"import _extends from \"@babel/runtime-corejs2/helpers/esm/extends\";\nimport _slicedToArray from \"@babel/runtime-corejs2/helpers/esm/slicedToArray\";\nvar __jsx = React.createElement;\nimport React from \"react\"; // used for making the prop types of this component\n\n// core components\nimport Button from \"components/CustomButtons/Button.js\";\nimport defaultImage from \"assets/img/image_placeholder.jpg\";\nimport defaultAvatar from \"assets/img/placeholder.jpg\";\nexport default function ImageUpload(props) {\n  var _React$useState = React.useState(null),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      file = _React$useState2[0],\n      setFile = _React$useState2[1];\n\n  var _React$useState3 = React.useState(props.avatar ? defaultAvatar : defaultImage),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      imagePreviewUrl = _React$useState4[0],\n      setImagePreviewUrl = _React$useState4[1];\n\n  var fileInput = React.createRef();\n\n  var handleImageChange = function handleImageChange(e) {\n    e.preventDefault();\n    var reader = new FileReader();\n    var file = e.target.files[0];\n\n    reader.onloadend = function () {\n      setFile(file);\n      setImagePreviewUrl(reader.result);\n    };\n\n    reader.readAsDataURL(file);\n  }; // eslint-disable-next-line\n\n\n  var handleSubmit = function handleSubmit(e) {\n    e.preventDefault(); // file is the file/image uploaded\n    // in this function you can save the image (file) on form submit\n    // you have to call it yourself\n  };\n\n  var handleClick = function handleClick() {\n    fileInput.current.click();\n  };\n\n  var handleRemove = function handleRemove() {\n    setFile(null);\n    setImagePreviewUrl(props.avatar ? defaultAvatar : defaultImage);\n    fileInput.current.value = null;\n  };\n\n  var avatar = props.avatar,\n      addButtonProps = props.addButtonProps,\n      changeButtonProps = props.changeButtonProps,\n      removeButtonProps = props.removeButtonProps;\n  return __jsx(\"div\", {\n    className: \"fileinput text-center\"\n  }, __jsx(\"input\", {\n    type: \"file\",\n    onChange: handleImageChange,\n    ref: fileInput\n  }), __jsx(\"div\", {\n    className: \"thumbnail\" + (avatar ? \" img-circle\" : \"\")\n  }, __jsx(\"img\", {\n    src: imagePreviewUrl,\n    alt: \"...\"\n  })), __jsx(\"div\", null, file === null ? __jsx(Button, _extends({}, addButtonProps, {\n    onClick: function onClick() {\n      return handleClick();\n    }\n  }), avatar ? \"Add Photo\" : \"Select image\") : __jsx(\"span\", null, __jsx(Button, _extends({}, changeButtonProps, {\n    onClick: function onClick() {\n      return handleClick();\n    }\n  }), \"Change\"), avatar ? __jsx(\"br\", null) : null, __jsx(Button, _extends({}, removeButtonProps, {\n    onClick: function onClick() {\n      return handleRemove();\n    }\n  }), __jsx(\"i\", {\n    className: \"fas fa-times\"\n  }), \" Remove\"))));\n}","map":null,"metadata":{},"sourceType":"module"}